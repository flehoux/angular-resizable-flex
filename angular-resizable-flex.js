(function(){require("angular").module("angularResizableFlex",[]).directive("resizableFlex",function(){return{restrict:"A",scope:{rfName:"@",rfDirection:"@",rfSize:"=",rfHandle:"=",rfDisabled:"=",rfInitCb:"&",rfCallback:"&"},link:function(e,t){var n,r,i,a,s,o,u,l,c,d,f,h;return r={style:window.getComputedStyle(t[0],null)},e.$watch("rfSize",function(e){if(null!=e)return f(e)}),a=function(){return t[0].style.flexBasis.replace("px","")},f=function(e){return t[0].style.flexBasis=e+"px"},i=function(t){var n;return n="left"===e.rfDirection||"right"===e.rfDirection?"clientX":"clientY",null!=t.touches?t.touches[0][n]:t[n]},n=function(){return document.addEventListener("mouseup",o,!!d&&{passive:!0}),document.addEventListener("mousemove",l,!!d&&{passive:!0}),document.addEventListener("touchend",o,!!d&&{passive:!0}),document.addEventListener("touchmove",l,!!d&&{passive:!0})},h=function(){return document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",l),document.removeEventListener("touchend",o),document.removeEventListener("touchmove",l)},u=function(t){if(!e.rfDisabled||1===t.which||t.touches)return n(),r.initialWidth=parseInt(r.style.getPropertyValue("width")),r.initialHeight=parseInt(r.style.getPropertyValue("height")),r.initialPos=i(t),r.handle.classList.add("rf-dragging")},l=function(t){var n;switch(n=r.initialPos-i(t),e.rfDirection){case"top":return f(r.initialHeight+n);case"bottom":return f(r.initialHeight-n);case"right":return f(r.initialWidth-n);case"left":return f(r.initialWidth+n)}},o=function(){if(h(),r.handle.classList.remove("rf-dragging"),e.rfCallback)return e.rfCallback({rfObj:{name:e.rfName,size:a()}})},d=!1,c=function(){var e;try{return e=Object.defineProperty({},"passive",{get:function(){return d=!0}}),window.addEventListener("test",null,e)}catch(e){e}},s=function(){return r.handle=document.createElement("div"),r.handle.setAttribute("class","rf-"+e.rfDirection),r.handle.innerHTML=e.rfHandle?e.rfHandle:"<span></span>",t[0].appendChild(r.handle),r.handle.addEventListener("mousedown",u,!!d&&{passive:!0}),r.handle.addEventListener("touchstart",u,!!d&&{passive:!0})},function(){return e.rfInitCb&&f(e.rfInitCb({rfObj:{name:e.rfName}})),c(),s()}(),e.$on("$destroy",function(){return h(),r.handle.removeEventListener("mousedown",u),r.handle.removeEventListener("touchstart",u)})}}})}).call(this);