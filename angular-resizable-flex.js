(function(){require("angular").module("angularResizableFlex",[]).directive("resizableFlex",function(){return{restrict:"A",scope:{rfName:"@",rfDirection:"@",rfSize:"=",rfHandle:"=",rfDisabled:"=",rfInitCb:"&",rfCallback:"&"},link:function(e,t){var n,r,i,a,o,u,s,l,c,d;return r={style:window.getComputedStyle(t[0],null)},e.$watch("rfSize",function(e){if(null!=e)return c(e)}),a=function(){return t[0].style.flexBasis.replace("px","")},c=function(e){return t[0].style.flexBasis=e+"px"},i=function(t){var n;return n="left"===e.rfDirection||"right"===e.rfDirection?"clientX":"clientY",null!=t.touches?t.touches[0][n]:t[n]},n=function(){return document.addEventListener("mouseup",u),document.addEventListener("mousemove",l),document.addEventListener("touchend",u,{passive:!0}),document.addEventListener("touchmove",l,{passive:!0})},d=function(){return document.removeEventListener("mouseup",u),document.removeEventListener("mousemove",l),document.removeEventListener("touchend",u),document.removeEventListener("touchmove",l)},s=function(t){if(!e.rfDisabled||1===t.which||t.touches)return n(),r.initialWidth=parseInt(r.style.getPropertyValue("width")),r.initialHeight=parseInt(r.style.getPropertyValue("height")),r.initialPos=i(t),r.handle.classList.add("rf-dragging"),t.stopPropagation&&t.stopPropagation(),t.preventDefault?t.preventDefault():void 0},l=function(t){var n;switch(n=r.initialPos-i(t),e.rfDirection){case"top":return c(r.initialHeight+n);case"bottom":return c(r.initialHeight-n);case"right":return c(r.initialWidth-n);case"left":return c(r.initialWidth+n)}},u=function(){if(d(),r.handle.classList.remove("rf-dragging"),e.rfCallback)return e.rfCallback({rfObj:{name:e.rfName,size:a()}})},o=function(){return r.handle=document.createElement("div"),r.handle.setAttribute("class","rf-"+e.rfDirection),r.handle.innerHTML=e.rfHandle?e.rfHandle:"<span></span>",t[0].appendChild(r.handle),r.handle.addEventListener("mousedown",s),r.handle.addEventListener("touchstart",s,{passive:!0})},function(){return e.rfInitCb&&c(e.rfInitCb({rfObj:{name:e.rfName}})),o()}(),e.$on("$destroy",function(){return d(),r.handle.removeEventListener("mousedown",s),r.handle.removeEventListener("touchstart",s)})}}})}).call(this);