(function(){require("angular").module("angularResizableFlex",[]).directive("resizableFlex",function(){return{restrict:"A",scope:{rfName:"@",rfDirection:"@",rfSize:"=",rfHandle:"@",rfDisabled:"=",rfCallback:"&"},link:function(e,t){var n,r,i,o,a,u,l,s,c;return r={style:window.getComputedStyle(t[0],null)},e.$watch("rfSize",function(e){if(null!=e)return s(e)}),o=function(){return t[0].style.flexBasis.replace("px","")},s=function(e){return t[0].style.flexBasis=e+"px"},i=function(t){var n;return n="left"===e.rfDirection||"right"===e.rfDirection?"clientX":"clientY",null!=t.touches?t.touches[0][n]:t[n]},n=function(){return document.addEventListener("mouseup",a),document.addEventListener("mousemove",l),document.addEventListener("touchend",a,{passive:!0}),document.addEventListener("touchmove",l,{passive:!0})},c=function(){return document.removeEventListener("mouseup",a),document.removeEventListener("mousemove",l),document.removeEventListener("touchend",a),document.removeEventListener("touchmove",l)},u=function(t){if(!e.rfDisabled||1===t.which||t.touches)return n(),r.initialWidth=parseInt(r.style.getPropertyValue("width")),r.initialHeight=parseInt(r.style.getPropertyValue("height")),r.initialPos=i(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault?t.preventDefault():void 0},l=function(t){var n;switch(n=r.initialPos-i(t),e.rfDirection){case"top":return s(r.initialHeight+n);case"bottom":return s(r.initialHeight-n);case"right":return s(r.initialWidth-n);case"left":return s(r.initialWidth+n)}},a=function(){if(c(),e.rfCallback)return e.rfCallback({rfObj:{name:e.rfName,size:o()}})},function(){return r.handle=document.createElement("div"),r.handle.setAttribute("class","rf-"+e.rfDirection),r.handle.innerHTML=e.rfHandle?e.rfHandle:"<span></span>",t[0].appendChild(r.handle),r.handle.addEventListener("mousedown",u),r.handle.addEventListener("touchstart",u,{passive:!0})}(),e.$on("$destroy",function(){return console.log("$destroying"),c(),r.handle.removeEventListener("mousedown",u),r.handle.removeEventListener("touchstart",u)})}}})}).call(this);